model refund_items {
  id            String    @id
  refund_id     String
  order_item_id String
  created_at    DateTime  @default(now())
  order_items   OrderItem @relation(fields: [order_item_id], references: [id], onDelete: Cascade)
  refunds       Refund    @relation(fields: [refund_id], references: [id], onDelete: Cascade)

  @@unique([refund_id, order_item_id])
  @@index([order_item_id])
  @@index([refund_id])
}

model user_fcm_tokens {
  id           String      @id
  user_id      String
  token        String      @unique
  platform     FcmPlatform
  browser      String?
  is_active    Boolean     @default(true)
  last_used_at DateTime?
  created_at   DateTime    @default(now())
  updated_at   DateTime
  users        User        @relation(fields: [user_id], references: [id], onDelete: Cascade)

  @@index([platform])
  @@index([user_id])
}

enum FcmPlatform {
  WEB
  ANDROID
  IOS
}
